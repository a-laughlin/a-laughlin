!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FpUtils={})}(this,(function(e){"use strict";const t=e=>e;if(void 0===globalThis.process&&(globalThis.process={env:{NODE_ENV:"production"}}),"production"!==globalThis.process.env.NODE_ENV){const r=e=>e.name?e.name:e.toString();e.curry=e=>{const t=(...n)=>{if(n.length>=e.length)return e(...n);const o=(...e)=>t(...n,...e);return o.toString=()=>`${r(e)}(${n.join(", ")})`,Object.defineProperty(o,"name",{value:`${r(e)}(${n.join(", ")})`})};return t.toString=()=>r(e),Object.defineProperty(t,"name",{value:r(e)})},e.compose=(...e)=>{if(0===e.length)return t;if(1===e.length)return e[0];const n=e[e.length-1];e=e.slice(0,e.length-1);const o=(...t)=>e.reduceRight((e,t)=>t(e),n(...t));return o.toString=()=>`compose(${e.map(r).join(", ")})`,o},e.pipe=(e=t,...n)=>{if(0===n.length)return e;const o=(...t)=>n.reduce((e,t)=>t(e),e(...t));return o.toString=()=>`pipe(${n.reverse().map(r).join(", ")})`,o}}else e.curry=t=>(...r)=>r.length>=t.length?t(...r):e.curry(t.bind(null,...r)),e.compose=(...e)=>(...r)=>0===e.length?t:1===e.length?e[0]:e.slice(0,e.length-1).reduceRight((e,t)=>t(e),e[e.length-1](...r)),e.pipe=(e=t,...r)=>(...t)=>0===r.length?e:r.reduce((e,t)=>t(e),e(...t));const r=()=>[],n=()=>({}),o=()=>!0,i=Object.freeze([]),s=Object.freeze(Object.create(null)),a=Number.isFinite||(e=>"number"==typeof value&&a(value)),l=Number.isInteger||(e=>a(e)&&e%1==0),u=e=>"string"==typeof e,f=e=>"function"==typeof e,p=e=>"object"==typeof e&&null!==e,d=Array.isArray.bind(Array),g=(e,t)=>(...r)=>F(d,e(...r),t(...r)),b=e=>(...t)=>t.length>1?e(t):e(...t),m=e=>(...t)=>oe(e=>e(...t))(e),y=e=>(...t)=>re(e=>e(...t))(e),h=e=>d(e)?y(e):m(e),j=h,O=e=>t=>e,T=(e=[])=>d(e)?e:[e],A=e=>u(e)?e:""+e,v=(e,t,r)=>(e.hasOwnProperty(t)?e[t]:e[t]=r,e),P=e=>(t,r,n)=>v(t,r,e(t,r,n)),S=P(r),E=P(n),V=e=>(...t)=>!e(...t),x=(e,r,n=t)=>t=>e(t)?r(t):n(t),F=(e,r,n=t)=>(...t)=>(e(...t)?r:n)(...t),N=(...e)=>(...t)=>{for(const r of e)if(!0===r(...t))return!0;return!1},I=(...e)=>V(N(...e)),R=b(e=>(...t)=>{for(const[r,n]of e)if(r(...t))return n}),D=b(e=>(...t)=>{for(const[r,n]of e)if(r(...t))return n(...t)}),$=e=>(t=[])=>{const r=t.length,n=[];let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},B=e=>(t={})=>{let r,n=Object.create(null);for(r in t)e(n,t[r],r,t);return n},C=g(e=>(t=[])=>{const r=t.length,n=Object.create(null);let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},B),L=C,M=g($,e=>(t={})=>{let r,n=[];for(r in t)e(n,t[r],r,t);return n}),W=M,z=g($,B),U=z,_=e=>M((t,r,n)=>e(r,n)&&(t[t.length]=r)),q=_,w=e=>C((t,r,n)=>e(r,n)&&(t[n]=r)),K=w,G=g(_,w),H=G,J=e=>M((t,r,n)=>!e(r,n)&&(t[t.length]=r)),Q=J,X=e=>C((t,r,n)=>!e(r,n)&&(t[n]=r)),Y=X,Z=g(J,X),ee=Z,te=e=>M((t,r,n)=>t[t.length]=e(r,n)),re=te,ne=e=>C((t,r,n)=>t[n]=e(r,n)),oe=ne,ie=g(te,ne),se=ie,ce=(e,t)=>M((r,n,o)=>e(n,o)&&(r[r.length]=t(n,o))),ae=ce,le=(e,t)=>C((r,n,o)=>e(n,o)&&(r[o]=t(n,o))),ue=le,fe=g(ce,le),pe=fe,de=g((...e)=>y([...e.map(q),q(I(...e))]),(...e)=>y([...e.map(e=>K(e)),K(I(...e))])),ge=g(e=>({length:t})=>t===e,e=>t=>{let r,n=0;for(r in t)if(++n>e)return!1;return n===e}),be=ge(0),me=ge(1),ye=x(u,(e="id")=>C((t,r,n)=>{t[r[e]]=r}),(e=(e=>e.id))=>C((t,r,n)=>{t[e(r,n)]=r})),he=(e=[],t)=>(e[e.length]=t,e),je=(e={},t,r)=>(e[r]=he(e[r],t),e),Oe=C((e,t,r)=>{for(r in t)je(e,t,r)}),Te=C((e,t)=>{let r,n;for(r in t)for(n of T(t[r]))je(e,t,A(n))}),Ae=D([u,e=>(e=e.split("."),t=>e.reduce((e,t)=>d(e)&&!l(+t)?e.map(e=>e[t]):e[t],t))],[d,e=>ve(e)],[p,e=>t=>oe(e=>Ae(e)(t))(e)],[o,t]),ve=D([d,e=>t=>z((e,r)=>e[r]=t[r])(e)],[u,e=>t=>t[e]],[f,G]),Pe=({getPrefix:e=(()=>""),getSuffix:t=(()=>""),mapPairs:r=(e=>e),keySplit:n="=",pairSplit:o="&"}={})=>(i={})=>{const s=Object.keys(i).map(e=>[e,i[e]].map(r).join(n)).join(o);return e(i,s)+s+t(i,s)},Se=Pe({getPrefix:(e,t)=>t?"?":"",mapPairs:encodeURIComponent}),Ee=(()=>{let e=0;return(t="")=>`${t}${++e}`})(),Ve=(e,t,r,n)=>Be(r(t))(e,n),ke=(e=[],t)=>(e[e.length]=t,e),xe=(e={},t,r)=>(e[r]=t,e),Fe=e=>t=>Ve([],ke,e,t),Ne=e=>t=>Ve({},xe,e,t),Ie=t,Re=e=>t=>(...r)=>(e(...r),t(...r)),De=(e=o)=>t=>(r,...n)=>e(...n)?t(r,...n):r,$e=(e=o)=>t=>(...r)=>e(...r)?t(...r):r[0],Be=e=>(t,r,n,...o)=>{if(!p(r))return e(t,r,n,...o);if(d(r))for(let n=-1,o=r.length;++n<o;)t=e(t,r[n],n,r);else for(const n in r)t=e(t,r[n],n,r);return t},Ce=(e,r,n=t)=>t=>F(e,r(t),n(t)),Le=(e,t)=>p(t),Me=e=>Ce(Le,e),We=(e=n)=>Me(t=>(r,n,o,i,s)=>t(r,s(e(r,n,o,i),n),o,i)),ze=(e={},t={})=>{const r={},n={},o={},i={},s={};let c,a=0,l=0,u=0,f=0;for(c in e)c in t?u+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:a+=i[c]=r[c]=1;for(c in t)c in e?c in o?i[c]=o[c]=1:u+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:l+=i[c]=n[c]=1;return{anb:r,anbc:a,bna:n,bnac:l,aib:o,aibc:u,aub:i,aubc:a+l+u,changed:s,changedc:f,a:e,b:t}};e.acceptArrayOrArgs=b,e.and=(...e)=>(...t)=>{for(const r of e)if(!0!==r(...t))return!1;return!0},e.appendArrayReducer=ke,e.appendObjectReducer=xe,e.cond=D,e.condNoExec=R,e.constant=O,e.converge=j,e.diffBy=(e=(e=>e.id),t=[])=>e?ze(...t.map(ye(e))):ze(t),e.diffObjs=ze,e.dpipe=(t,...r)=>e.pipe(...r)(t),e.ensureArray=T,e.ensureFunction=e=>"function"==typeof e?e:O(e),e.ensureProp=v,e.ensurePropIsArray=S,e.ensurePropIsObject=E,e.ensurePropWith=P,e.ensureString=A,e.fa=q,e.filterMapToArray=ce,e.filterMapToObject=le,e.filterMapToSame=fe,e.filterToArray=_,e.filterToObject=w,e.filterToSame=G,e.first=e=>{if(d(e))return e[0];for(const t in e)return e[t]},e.fma=ae,e.fmo=ue,e.fmx=pe,e.fo=K,e.frozenEmptyArray=i,e.frozenEmptyObject=s,e.fx=H,e.groupBy=e=>C((t,r,n,o)=>je(t,r,e(r,n))),e.groupByKeys=Oe,e.groupByValues=Te,e.has=e=>t=>e in t,e.identity=t,e.ifElse=F,e.ifElseUnary=x,e.immutableFilterObjectToObject=(e=((e,t,r)=>!0))=>(t={})=>{let r,n={},o=!1;for(r in t)e(t[r],r,t)?n[r]=t[r]:o=!0;return!0===o?n:t},e.immutableTransArrayToArray=e=>(t=[])=>{let r,n=[],o=!1;for(r of t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.immutableTransObjectToObject=e=>(t={})=>{let r,n={},o=!1;for(r in t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.invokeArgsOnObj=(...e)=>mapValues(t=>t(...e)),e.invokeObjectWithArgs=e=>(...t)=>mapValues(e=>f(e)?e(...t):e)(e),e.is=e=>t=>e===t,e.isArray=d,e.isDeepEqual=(e,t)=>{if(e===t)return!0;if("object"!=typeof e)return e===t;if(Array.isArray(e)){if(!1===Array.isArray(t)||e.length!==t.length)return!1;let r=-1,n=toCheck.length;for(;++r<n;)if(!1===isCached(e[r],t[r]))return!1;return!0}let r;for(r in toCheck)if(!1===isCached(e[r],t[r]))return!1;return!0},e.isError=e=>p(e)&&"string"==typeof e.message,e.isFinite=a,e.isFunction=f,e.isInteger=l,e.isObjectLike=p,e.isProductionEnv=()=>"production"===process.env.NODE_ENV,e.isPromise=e=>"object"==typeof e&&null!==e&&"function"==typeof e.then,e.isString=u,e.isUndefOrNull=e=>null==e,e.keyBy=ye,e.last=e=>(e=d(e)?e:Object.values(e))[e.length-1],e.len=ge,e.len0=be,e.len1=me,e.ma=re,e.mapToArray=te,e.mapToObject=ne,e.mapToSame=ie,e.memoize=(e,r=t)=>{const n=(...t)=>{const o=r(...t);return e(...n.cache.has(o)?n.cache.get(o):n.cache.set(o,t)&&t)};return n.cache=new WeakMap,n},e.mo=oe,e.mx=se,e.none=I,e.noop=()=>{},e.not=V,e.oa=Q,e.objStringifierFactory=Pe,e.objToUrlParams=Se,e.omitToArray=J,e.omitToObject=X,e.omitToSame=Z,e.oo=Y,e.or=N,e.over=h,e.overArray=y,e.overObj=m,e.ox=ee,e.partition=de,e.pget=Ae,e.pick=ve,e.plog=(e="")=>t=>console.log(e,t)||t,e.ra=W,e.range=(e=10,r=0,n=1,o=t)=>{const i=[];for(;r<e;)i[i.length]=o(r+=n);return i},e.reduce=e=>(t,r)=>Be(e)(r,t),e.ro=L,e.rx=U,e.stubArray=r,e.stubFalse=()=>!1,e.stubNull=()=>null,e.stubObject=n,e.stubString=()=>"",e.stubTrue=o,e.tdAssign=e=>t=>(r,n,...o)=>t({...r,...e(r,n,...o)},n,...o),e.tdDPipeToArray=(t,...r)=>Fe(e.compose(...r))(t),e.tdDPipeToObject=(t,...r)=>Ne(e.compose(...r))(t),e.tdDfObjectLikeValuesWith=We,e.tdFilter=De,e.tdFilterWithAcc=$e,e.tdIdentity=Ie,e.tdIfElse=Ce,e.tdIfValueObjectLike=Me,e.tdKeyBy=(e=(e=>e.id))=>t=>(r,n,o,i)=>t(r,n,e(n,o,i),i),e.tdLog=(e="log",t=o)=>Re((...r)=>t(...r)&&console.log(e,...r)),e.tdMap=e=>t=>(r,n,...o)=>t(r,e(n,...o),...o),e.tdMapWithAcc=e=>t=>(r,n,...o)=>t(r,e(r,n,...o),...o),e.tdOmit=e=>De(V(e)),e.tdOmitWithAcc=e=>$e(V(e)),e.tdPipeToArray=(...t)=>Fe(e.compose(...t)),e.tdPipeToObject=(...t)=>Ne(e.compose(...t)),e.tdReduce=e=>t=>(r,...n)=>t(e(r,...n),...n),e.tdReduceListValue=Be,e.tdSet=(e,t)=>r=>(n,o,...i)=>{const s=t(n,o,...i);return n[e]===s?r(n,o,k,c):r({...n,[e]:s},o,...i)},e.tdTap=Re,e.tdToArray=Fe,e.tdToObject=Ne,e.tdToSame=e=>t=>(Array.isArray(t)?Fe:Ne)(e)(t),e.tdValue=e=>r=>Ve(void 0,t,e,[r]),e.transToArray=M,e.transToObject=C,e.transToSame=z,e.transduce=Ve,e.transduceBF=({preVisit:t=Ie,visit:r=Ie,postVisit:n=Ie,edgeCombiner:o=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:i=Be}={})=>{let s=[];const c=i((e,t,r,n)=>(he(s,[e,t,r,n]),e)),a=e.compose(t,e=>(t,r,n,o)=>{if(p(r)){const i={};e(t,i,n,o),c(i,r,n,o)}else e(t,r,n,o);s.length>0&&a(...s.shift())},n)(o);return i((e,t,r,n)=>(a(e,t,r,n),e))},e.transduceDF=({preVisit:t=Ie,visit:r=We(n),postVisit:o=Ie,edgeCombiner:i=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:s=Be}={})=>{const c=s(e.compose(t,e=>(t,r,n,o)=>e(t,r,n,o,c),r,o)(i));return c},e.uniqueId=Ee,e.xor=t=>e.pipe(filter(t),me),Object.defineProperty(e,"__esModule",{value:!0})}));