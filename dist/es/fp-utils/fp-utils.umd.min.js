!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FpUtils={})}(this,(function(e){"use strict";const t=e=>e;if(void 0===globalThis.process&&(globalThis.process={env:{NODE_ENV:"production"}}),"production"!==globalThis.process.env.NODE_ENV){const r=e=>e.name?e.name:e.toString();e.curry=e=>{const t=(...n)=>{if(n.length>=e.length)return e(...n);const o=(...e)=>t(...n,...e);return o.toString=()=>`${r(e)}(${n.join(", ")})`,Object.defineProperty(o,"name",{value:`${r(e)}(${n.join(", ")})`})};return t.toString=()=>r(e),Object.defineProperty(t,"name",{value:r(e)})},e.compose=(...e)=>{if(0===e.length)return t;if(1===e.length)return e[0];const n=e[e.length-1];e=e.slice(0,e.length-1);const o=(...t)=>e.reduceRight((e,t)=>t(e),n(...t));return o.toString=()=>`compose(${e.map(r).join(", ")})`,o},e.pipe=(e=t,...n)=>{if(0===n.length)return e;const o=(...t)=>n.reduce((e,t)=>t(e),e(...t));return o.toString=()=>`pipe(${n.reverse().map(r).join(", ")})`,o}}else e.curry=t=>(...r)=>r.length>=t.length?t(...r):e.curry(t.bind(null,...r)),e.compose=(...e)=>(...r)=>0===e.length?t:1===e.length?e[0]:e.slice(0,e.length-1).reduceRight((e,t)=>t(e),e[e.length-1](...r)),e.pipe=(e=t,...r)=>(...t)=>0===r.length?e:r.reduce((e,t)=>t(e),e(...t));const r=()=>[],n=()=>({}),o=()=>!0,i=()=>!1,s=Object.freeze([]),a=Object.freeze(Object.create(null)),u=Number.isFinite||(e=>"number"==typeof value&&u(value)),l=Number.isInteger||(e=>u(e)&&e%1==0),f=e=>"string"==typeof e,p=e=>"function"==typeof e,d=e=>"object"==typeof e&&null!==e,g=Array.isArray.bind(Array),y=(e,t)=>(...r)=>N(g,e(...r),t(...r)),b=(e={})=>(...t)=>ue(e=>e(...t))(e),m=(e=[])=>(...t)=>ce(e=>e(...t))(e),h=e=>g(e)?m(e):b(e),j=h,O=e=>t=>e,T=(e=[])=>g(e)?e:[e],A=e=>f(e)?e:""+e,P=(e,t,r)=>(e.hasOwnProperty(t)?e[t]:e[t]=r,e),v=e=>(t,r,n)=>P(t,r,e(t,r,n)),S=v(r),E=v(n),x=e=>(...t)=>!e(...t),F=(e,r,n=t)=>t=>e(t)?r(t):n(t),N=(e,r,n=t)=>(...t)=>(e(...t)?r:n)(...t),V=(...e)=>(...t)=>{for(const r of e)if(!0!==r(...t))return!1;return!0},M=(...e)=>(...t)=>{for(const r of e)if(!0===r(...t))return!0;return!1},R=(e="")=>(t={})=>e in t,I=([e,t]=[])=>(r={})=>r[e]===t,$=(e={})=>V(...se((e,t)=>I([t,e]))(e)),B=e.compose(x,M),C=(...e)=>(...t)=>{for(const[r,n]of e)if(r(...t))return n(...t)},D=e=>(t=[])=>{const r=t.length,n=Object.create(null);let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},W=e=>(t=[])=>{const r=t.length,n=[];let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},_=e=>(t={})=>{let r,n=Object.create(null);for(r in t)e(n,t[r],r,t);return n},z=e=>(t={})=>{let r,n=[];for(r in t)e(n,t[r],r,t);return n},K=y(D,_),L=K,U=y(W,z),w=U,q=y(W,_),G=q,H=e=>U((t,r,n)=>e(r,n)&&(t[t.length]=r)),J=H,Q=e=>K((t,r,n)=>e(r,n)&&(t[n]=r)),X=Q,Y=y(H,Q),Z=Y,ee=e=>U((t,r,n)=>!e(r,n)&&(t[t.length]=r)),te=ee,re=e=>K((t,r,n)=>!e(r,n)&&(t[n]=r)),ne=re,oe=y(ee,re),ie=oe,se=e=>U((t,r,n)=>t[t.length]=e(r,n)),ce=se,ae=e=>K((t,r,n)=>t[n]=e(r,n)),ue=ae,le=y(se,ae),fe=le,pe=(e,t)=>U((r,n,o)=>e(n,o)&&(r[r.length]=t(n,o))),de=pe,ge=(e,t)=>K((r,n,o)=>e(n,o)&&(r[o]=t(n,o))),ye=ge,be=y(pe,ge),me=be,he=y((...e)=>m([...e.map(J),J(B(...e))]),(...e)=>m([...e.map(e=>X(e)),X(B(...e))])),je=y(e=>({length:t})=>t===e,e=>t=>{let r,n=0;for(r in t)if(++n>e)return!1;return n===e}),Oe=je(0),Te=je(1),Ae=F(f,(e="id")=>K((t,r,n)=>{t[r[e]]=r}),(e=(e=>e.id))=>K((t,r,n)=>{t[e(r,n)]=r})),Pe=(e=[],t)=>(e[e.length]=t,e),ve=(e={},t,r)=>(e[r]=Pe(e[r],t),e),Se=K((e,t,r)=>{for(r in t)ve(e,t,r)}),Ee=K((e,t)=>{let r,n;for(r in t)for(n of T(t[r]))ve(e,t,A(n))}),xe=C([f,e=>(e=e.split("."),t=>e.reduce((e,t)=>g(e)&&!l(+t)?e.map(e=>e[t]):e[t],t))],[g,e=>ke(e)],[d,e=>t=>ue(e=>xe(e)(t))(e)],[o,t]),ke=C([g,e=>t=>D((e,r)=>e[r]=t[r])(e)],[f,e=>t=>({[e]:t[e]})],[p,Y],[o,e=>t=>new Error("unsupported type for pick: "+typeof e)]),Fe=({getPrefix:e=(()=>""),getSuffix:t=(()=>""),mapPairs:r=(e=>e),keySplit:n="=",pairSplit:o="&"}={})=>(i={})=>{const s=Object.keys(i).map(e=>[e,i[e]].map(r).join(n)).join(o);return e(i,s)+s+t(i,s)},Ne=Fe({getPrefix:(e,t)=>t?"?":"",mapPairs:encodeURIComponent}),Ve=(()=>{let e=0;return(t="")=>`${t}${++e}`})(),Me=(e,t,r,n)=>ze(r(t))(e,n),Re=(e=[],t)=>(e[e.length]=t,e),Ie=(e={},t,r)=>(e[r]=t,e),$e=e=>t=>Me([],Re,e,t),Be=e=>t=>Me({},Ie,e,t),Ce=t,De=e=>t=>(...r)=>(e(...r),t(...r)),We=(e=o)=>t=>(r,...n)=>e(...n)?t(r,...n):r,_e=(e=o)=>t=>(...r)=>e(...r)?t(...r):r[0],ze=e=>(t,r,n,...o)=>{if(!d(r))return e(t,r,n,...o);if(g(r))for(let n=-1,o=r.length;++n<o;)t=e(t,r[n],n,r);else for(const n in r)t=e(t,r[n],n,r);return t},Ke=(e={},t={})=>{const r={},n={},o={},i={},s={};let c,a=0,u=0,l=0,f=0;for(c in e)c in t?l+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:a+=i[c]=r[c]=1;for(c in t)c in e?c in o?i[c]=o[c]=1:l+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:u+=i[c]=n[c]=1;return{anb:r,anbc:a,bna:n,bnac:u,aib:o,aibc:l,aub:i,aubc:a+u+l,changed:s,changedc:f,a:e,b:t}};e._is=e=>t=>e===t,e.and=V,e.appendArrayReducer=Re,e.appendObjectReducer=Ie,e.cond=C,e.condNoExec=(...e)=>(...t)=>{for(const[r,n]of e)if(r(...t))return n},e.constant=O,e.converge=j,e.diffBy=(e=(e=>e.id),t=[])=>e?Ke(...t.map(Ae(e))):Ke(t),e.diffObjs=Ke,e.dpipe=(t,...r)=>e.pipe(...r)(t),e.ensureArray=T,e.ensureFunction=e=>"function"==typeof e?e:O(e),e.ensureProp=P,e.ensurePropIsArray=S,e.ensurePropIsObject=E,e.ensurePropWith=v,e.ensureString=A,e.fa=J,e.filterMapToArray=pe,e.filterMapToObject=ge,e.filterMapToSame=be,e.filterToArray=H,e.filterToObject=Q,e.filterToSame=Y,e.first=e=>{if(g(e))return e[0];for(const t in e)return e[t]},e.fma=de,e.fmo=ye,e.fmx=me,e.fo=X,e.frozenEmptyArray=s,e.frozenEmptyObject=a,e.fx=Z,e.groupBy=e=>K((t,r,n,o)=>ve(t,r,e(r,n))),e.groupByKeys=Se,e.groupByValues=Ee,e.has=e=>t=>e in t,e.hasKey=R,e.identity=t,e.ifElse=N,e.ifElseUnary=F,e.immutableFilterObjectToObject=(e=((e,t,r)=>!0))=>(t={})=>{let r,n={},o=!1;for(r in t)e(t[r],r,t)?n[r]=t[r]:o=!0;return!0===o?n:t},e.immutableTransArrayToArray=e=>(t=[])=>{let r,n=[],o=!1;for(r of t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.immutableTransObjectToObject=e=>(t={})=>{let r,n={},o=!1;for(r in t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.invokeArgsOnObj=(...e)=>mapValues(t=>t(...e)),e.invokeObjectWithArgs=e=>(...t)=>mapValues(e=>p(e)?e(...t):e)(e),e.is=e=>t=>e===t,e.isArray=g,e.isDeepEqual=(e,t)=>{if(e===t)return!0;if("object"!=typeof e)return e===t;if(Array.isArray(e)){if(!1===Array.isArray(t)||e.length!==t.length)return!1;let r=-1,n=toCheck.length;for(;++r<n;)if(!1===isCached(e[r],t[r]))return!1;return!0}let r;for(r in toCheck)if(!1===isCached(e[r],t[r]))return!1;return!0},e.isError=e=>d(e)&&"string"==typeof e.message,e.isFinite=u,e.isFunction=p,e.isInteger=l,e.isObjectLike=d,e.isProductionEnv=()=>"production"===process.env.NODE_ENV,e.isPromise=e=>"object"==typeof e&&null!==e&&"function"==typeof e.then,e.isString=f,e.isUndefOrNull=e=>null==e,e.keyBy=Ae,e.last=e=>(e=g(e)?e:Object.values(e))[e.length-1],e.len=je,e.len0=Oe,e.len1=Te,e.ma=ce,e.mapToArray=se,e.mapToObject=ae,e.mapToSame=le,e.matches=$,e.matchesProperty=I,e.memoize=(e,r=t)=>{const n=(...t)=>{const o=r(...t);return e(...n.cache.has(o)?n.cache.get(o):n.cache.set(o,t)&&t)};return n.cache=new WeakMap,n},e.mo=ue,e.mx=fe,e.none=B,e.noop=()=>{},e.not=x,e.oa=te,e.objStringifierFactory=Fe,e.objToUrlParams=Ne,e.omitToArray=ee,e.omitToObject=re,e.omitToSame=oe,e.oo=ne,e.or=M,e.over=h,e.overArray=m,e.overObj=b,e.ox=ie,e.partition=he,e.pget=xe,e.pick=ke,e.plog=(e="")=>t=>console.log(e,t)||t,e.ra=w,e.range=(e=10,r=0,n=1,o=t)=>{const i=[];for(;r<e;)i[i.length]=o(r+=n);return i},e.reduce=e=>(t,r)=>ze(e)(r,t),e.ro=L,e.rx=G,e.stubArray=r,e.stubFalse=i,e.stubNull=()=>null,e.stubObject=n,e.stubString=()=>"",e.stubTrue=o,e.tdAssign=e=>t=>(r,n,...o)=>t({...r,...e(r,n,...o)},n,...o),e.tdDPipeToArray=(t,...r)=>$e(e.compose(...r))(t),e.tdDPipeToObject=(t,...r)=>Be(e.compose(...r))(t),e.tdFilter=We,e.tdFilterWithAcc=_e,e.tdIdentity=Ce,e.tdIfElse=(e,r,n=t)=>t=>N(e,r(t),n(t)),e.tdKeyBy=(e=(e=>e.id))=>t=>(r,n,o,i)=>t(r,n,e(n,o,i),i),e.tdLog=(e="log",t=o)=>De((...r)=>t(...r)&&console.log(e,...r)),e.tdMap=e=>t=>(r,n,...o)=>t(r,e(n,...o),...o),e.tdMapKey=e=>t=>(r,n,o,...i)=>t(r,n,e(n,o,...i),...i),e.tdMapKeyWithAcc=e=>t=>(r,n,o,...i)=>t(r,n,e(r,n,o,...i),...i),e.tdMapWithAcc=e=>t=>(r,n,...o)=>t(r,e(r,n,...o),...o),e.tdOmit=e=>We(x(e)),e.tdOmitWithAcc=e=>_e(x(e)),e.tdPipeToArray=(...t)=>$e(e.compose(...t)),e.tdPipeToObject=(...t)=>Be(e.compose(...t)),e.tdReduce=e=>t=>(r,...n)=>t(e(r,...n),...n),e.tdReduceListValue=ze,e.tdSet=(e,t)=>r=>(n,o,...i)=>{const s=t(n,o,...i);return n[e]===s?r(n,o,k,c):r({...n,[e]:s},o,...i)},e.tdTap=De,e.tdToArray=$e,e.tdToObject=Be,e.tdToSame=e=>t=>(Array.isArray(t)?$e:Be)(e)(t),e.toPredicate=e=>p(e)?e:g(e)?I(e):d(e)?$(e):f(e)?R(e):i,e.transArrayToArray=W,e.transArrayToObject=D,e.transObjectToArray=z,e.transObjectToObject=_,e.transToArray=U,e.transToObject=K,e.transToSame=q,e.transduce=Me,e.transduceBF=({preVisit:t=Ce,visit:r=Ce,postVisit:n=Ce,edgeCombiner:o=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:i=ze}={})=>{let s=[];const c=i((e,t,r,n)=>(Pe(s,[e,t,r,n]),e)),a=e.compose(t,e=>(t,r,n,o)=>{if(d(r)){const i={};e(t,i,n,o),c(i,r,n,o)}else e(t,r,n,o);s.length>0&&a(...s.shift())},r,n)(o);return i((e,t,r,n)=>(a(e,t,r,n),e))},e.transduceDF=({preVisit:t=Ce,visit:r=(e=>(t,r,n,o,i)=>e(t,d(r)?i({},r):r,n,o)),postVisit:n=Ce,edgeCombiner:o=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:i=ze}={})=>{const s=i(e.compose(t,e=>(t,r,n,o)=>e(t,r,n,o,s),r,n)(o));return s},e.uniqueId=Ve,e.xor=(...e)=>(...t)=>{let r,n=0;for(r of e)!0===r(...t)&&++n;return 1===n},Object.defineProperty(e,"__esModule",{value:!0})}));