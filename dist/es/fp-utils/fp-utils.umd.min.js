!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FpUtils={})}(this,(function(e){"use strict";const t=e=>e;if(void 0===globalThis.process&&(globalThis.process={env:{NODE_ENV:"production"}}),"production"!==globalThis.process.env.NODE_ENV){const r=e=>e.name?e.name:e.toString();e.curry=e=>{const t=(...n)=>{if(n.length>=e.length)return e(...n);const o=(...e)=>t(...n,...e);return o.toString=()=>`${r(e)}(${n.join(", ")})`,Object.defineProperty(o,"name",{value:`${r(e)}(${n.join(", ")})`})};return t.toString=()=>r(e),Object.defineProperty(t,"name",{value:r(e)})},e.compose=(...e)=>{if(0===e.length)return t;if(1===e.length)return e[0];const n=e[e.length-1];e=e.slice(0,e.length-1);const o=(...t)=>e.reduceRight((e,t)=>t(e),n(...t));return o.toString=()=>`compose(${e.map(r).join(", ")})`,o},e.pipe=(e=t,...n)=>{if(0===n.length)return e;const o=(...t)=>n.reduce((e,t)=>t(e),e(...t));return o.toString=()=>`pipe(${n.reverse().map(r).join(", ")})`,o}}else e.curry=t=>(...r)=>r.length>=t.length?t(...r):e.curry(t.bind(null,...r)),e.compose=(...e)=>(...r)=>0===e.length?t:1===e.length?e[0]:e.slice(0,e.length-1).reduceRight((e,t)=>t(e),e[e.length-1](...r)),e.pipe=(e=t,...r)=>(...t)=>0===r.length?e:r.reduce((e,t)=>t(e),e(...t));const r=()=>[],n=()=>({}),o=()=>!0,i=()=>!1,s=Object.freeze([]),a=Object.freeze(Object.create(null)),l=Number.isFinite||(e=>"number"==typeof value&&l(value)),u=Number.isInteger||(e=>l(e)&&e%1==0),f=e=>"string"==typeof e,p=e=>"function"==typeof e,d=e=>"object"==typeof e&&null!==e,g=Array.isArray.bind(Array),b=(e,t)=>(...r)=>N(g,e(...r),t(...r)),m=e=>(...t)=>t.length>1?e(t):e(A(t[0])),y=e=>(...t)=>ue(e=>e(...t))(e),h=e=>(...t)=>ae(e=>e(...t))(e),j=e=>g(e)?h(e):y(e),O=j,T=e=>t=>e,A=(e=[])=>g(e)?e:[e],v=e=>f(e)?e:""+e,P=(e,t,r)=>(e.hasOwnProperty(t)?e[t]:e[t]=r,e),S=e=>(t,r,n)=>P(t,r,e(t,r,n)),E=S(r),V=S(n),x=e=>(...t)=>!e(...t),F=(e,r,n=t)=>t=>e(t)?r(t):n(t),N=(e,r,n=t)=>(...t)=>(e(...t)?r:n)(...t),I=m(e=>(...t)=>{for(const r of e)if(!0!==r(...t))return!1;return!0}),R=m(e=>(...t)=>{for(const r of e)if(!0===r(...t))return!0;return!1}),D=m(e=>(...t)=>{let r,n=0;for(r of e)!0===r(...t)&&++n;return 1===n}),$=(e="")=>(t={})=>e in t,B=([e,t]=[])=>(r={})=>r[e]===t,C=(e={})=>I(...ce((e,t)=>B([t,e]))(e)),L=e.compose(x,R),M=m(e=>(...t)=>{for(const[r,n]of e)if(r(...t))return n}),W=m(e=>(...t)=>{for(const[r,n]of e)if(r(...t))return n(...t)}),_=e=>(t=[])=>{const r=t.length,n=[];let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},z=e=>(t={})=>{let r,n=Object.create(null);for(r in t)e(n,t[r],r,t);return n},U=b(e=>(t=[])=>{const r=t.length,n=Object.create(null);let o=-1;for(;++o<r;)e(n,t[o],o,t);return n},z),K=U,q=b(_,e=>(t={})=>{let r,n=[];for(r in t)e(n,t[r],r,t);return n}),w=q,G=b(_,z),H=G,J=e=>q((t,r,n)=>e(r,n)&&(t[t.length]=r)),Q=J,X=e=>U((t,r,n)=>e(r,n)&&(t[n]=r)),Y=X,Z=b(J,X),ee=Z,te=e=>q((t,r,n)=>!e(r,n)&&(t[t.length]=r)),re=te,ne=e=>U((t,r,n)=>!e(r,n)&&(t[n]=r)),oe=ne,ie=b(te,ne),se=ie,ce=e=>q((t,r,n)=>t[t.length]=e(r,n)),ae=ce,le=e=>U((t,r,n)=>t[n]=e(r,n)),ue=le,fe=b(ce,le),pe=fe,de=(e,t)=>q((r,n,o)=>e(n,o)&&(r[r.length]=t(n,o))),ge=de,be=(e,t)=>U((r,n,o)=>e(n,o)&&(r[o]=t(n,o))),me=be,ye=b(de,be),he=ye,je=b((...e)=>h([...e.map(Q),Q(L(...e))]),(...e)=>h([...e.map(e=>Y(e)),Y(L(...e))])),Oe=b(e=>({length:t})=>t===e,e=>t=>{let r,n=0;for(r in t)if(++n>e)return!1;return n===e}),Te=Oe(0),Ae=Oe(1),ve=F(f,(e="id")=>U((t,r,n)=>{t[r[e]]=r}),(e=(e=>e.id))=>U((t,r,n)=>{t[e(r,n)]=r})),Pe=(e=[],t)=>(e[e.length]=t,e),Se=(e={},t,r)=>(e[r]=Pe(e[r],t),e),Ee=U((e,t,r)=>{for(r in t)Se(e,t,r)}),Ve=U((e,t)=>{let r,n;for(r in t)for(n of A(t[r]))Se(e,t,v(n))}),ke=W([f,e=>(e=e.split("."),t=>e.reduce((e,t)=>g(e)&&!u(+t)?e.map(e=>e[t]):e[t],t))],[g,e=>xe(e)],[d,e=>t=>ue(e=>ke(e)(t))(e)],[o,t]),xe=W([g,e=>t=>G((e,r)=>e[r]=t[r])(e)],[f,e=>t=>t[e]],[p,Z]),Fe=({getPrefix:e=(()=>""),getSuffix:t=(()=>""),mapPairs:r=(e=>e),keySplit:n="=",pairSplit:o="&"}={})=>(i={})=>{const s=Object.keys(i).map(e=>[e,i[e]].map(r).join(n)).join(o);return e(i,s)+s+t(i,s)},Ne=Fe({getPrefix:(e,t)=>t?"?":"",mapPairs:encodeURIComponent}),Ie=(()=>{let e=0;return(t="")=>`${t}${++e}`})(),Re=(e,t,r,n)=>ze(r(t))(e,n),De=(e=[],t)=>(e[e.length]=t,e),$e=(e={},t,r)=>(e[r]=t,e),Be=e=>t=>Re([],De,e,t),Ce=e=>t=>Re({},$e,e,t),Le=t,Me=e=>t=>(...r)=>(e(...r),t(...r)),We=(e=o)=>t=>(r,...n)=>e(...n)?t(r,...n):r,_e=(e=o)=>t=>(...r)=>e(...r)?t(...r):r[0],ze=e=>(t,r,n,...o)=>{if(!d(r))return e(t,r,n,...o);if(g(r))for(let n=-1,o=r.length;++n<o;)t=e(t,r[n],n,r);else for(const n in r)t=e(t,r[n],n,r);return t},Ue=(e,r,n=t)=>t=>N(e,r(t),n(t)),Ke=(e,t)=>d(t),qe=e=>Ue(Ke,e),we=(e=n)=>qe(t=>(r,n,o,i,s)=>t(r,s(e(r,n,o,i),n),o,i)),Ge=(e={},t={})=>{const r={},n={},o={},i={},s={};let c,a=0,l=0,u=0,f=0;for(c in e)c in t?u+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:a+=i[c]=r[c]=1;for(c in t)c in e?c in o?i[c]=o[c]=1:u+=i[c]=o[c]=e[c]===t[c]?1:f+=s[c]=1:l+=i[c]=n[c]=1;return{anb:r,anbc:a,bna:n,bnac:l,aib:o,aibc:u,aub:i,aubc:a+l+u,changed:s,changedc:f,a:e,b:t}};e._is=e=>t=>e===t,e.acceptArrayOrArgs=m,e.and=I,e.appendArrayReducer=De,e.appendObjectReducer=$e,e.cond=W,e.condNoExec=M,e.constant=T,e.converge=O,e.diffBy=(e=(e=>e.id),t=[])=>e?Ge(...t.map(ve(e))):Ge(t),e.diffObjs=Ge,e.dpipe=(t,...r)=>e.pipe(...r)(t),e.ensureArray=A,e.ensureFunction=e=>"function"==typeof e?e:T(e),e.ensureProp=P,e.ensurePropIsArray=E,e.ensurePropIsObject=V,e.ensurePropWith=S,e.ensureString=v,e.fa=Q,e.filterMapToArray=de,e.filterMapToObject=be,e.filterMapToSame=ye,e.filterToArray=J,e.filterToObject=X,e.filterToSame=Z,e.first=e=>{if(g(e))return e[0];for(const t in e)return e[t]},e.fma=ge,e.fmo=me,e.fmx=he,e.fo=Y,e.frozenEmptyArray=s,e.frozenEmptyObject=a,e.fx=ee,e.groupBy=e=>U((t,r,n,o)=>Se(t,r,e(r,n))),e.groupByKeys=Ee,e.groupByValues=Ve,e.has=e=>t=>e in t,e.hasKey=$,e.identity=t,e.ifElse=N,e.ifElseUnary=F,e.immutableFilterObjectToObject=(e=((e,t,r)=>!0))=>(t={})=>{let r,n={},o=!1;for(r in t)e(t[r],r,t)?n[r]=t[r]:o=!0;return!0===o?n:t},e.immutableTransArrayToArray=e=>(t=[])=>{let r,n=[],o=!1;for(r of t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.immutableTransObjectToObject=e=>(t={})=>{let r,n={},o=!1;for(r in t)e(n,t[r],r,t),n[r]!==t[r]&&(o=!0);return!1===o?t:n},e.invokeArgsOnObj=(...e)=>mapValues(t=>t(...e)),e.invokeObjectWithArgs=e=>(...t)=>mapValues(e=>p(e)?e(...t):e)(e),e.is=e=>t=>e===t,e.isArray=g,e.isDeepEqual=(e,t)=>{if(e===t)return!0;if("object"!=typeof e)return e===t;if(Array.isArray(e)){if(!1===Array.isArray(t)||e.length!==t.length)return!1;let r=-1,n=toCheck.length;for(;++r<n;)if(!1===isCached(e[r],t[r]))return!1;return!0}let r;for(r in toCheck)if(!1===isCached(e[r],t[r]))return!1;return!0},e.isError=e=>d(e)&&"string"==typeof e.message,e.isFinite=l,e.isFunction=p,e.isInteger=u,e.isObjectLike=d,e.isProductionEnv=()=>"production"===process.env.NODE_ENV,e.isPromise=e=>"object"==typeof e&&null!==e&&"function"==typeof e.then,e.isString=f,e.isUndefOrNull=e=>null==e,e.keyBy=ve,e.last=e=>(e=g(e)?e:Object.values(e))[e.length-1],e.len=Oe,e.len0=Te,e.len1=Ae,e.ma=ae,e.mapToArray=ce,e.mapToObject=le,e.mapToSame=fe,e.matches=C,e.matchesProperty=B,e.memoize=(e,r=t)=>{const n=(...t)=>{const o=r(...t);return e(...n.cache.has(o)?n.cache.get(o):n.cache.set(o,t)&&t)};return n.cache=new WeakMap,n},e.mo=ue,e.mx=pe,e.none=L,e.noop=()=>{},e.not=x,e.oa=re,e.objStringifierFactory=Fe,e.objToUrlParams=Ne,e.omitToArray=te,e.omitToObject=ne,e.omitToSame=ie,e.oo=oe,e.or=R,e.over=j,e.overArray=h,e.overObj=y,e.ox=se,e.partition=je,e.pget=ke,e.pick=xe,e.plog=(e="")=>t=>console.log(e,t)||t,e.ra=w,e.range=(e=10,r=0,n=1,o=t)=>{const i=[];for(;r<e;)i[i.length]=o(r+=n);return i},e.reduce=e=>(t,r)=>ze(e)(r,t),e.ro=K,e.rx=H,e.scan=e=>{let t;return(r,...n)=>{const o=e(t,r,...n);return t=r,o}},e.stubArray=r,e.stubFalse=i,e.stubNull=()=>null,e.stubObject=n,e.stubString=()=>"",e.stubTrue=o,e.tdAssign=e=>t=>(r,n,...o)=>t({...r,...e(r,n,...o)},n,...o),e.tdDPipeToArray=(t,...r)=>Be(e.compose(...r))(t),e.tdDPipeToObject=(t,...r)=>Ce(e.compose(...r))(t),e.tdDfObjectLikeValuesWith=we,e.tdFilter=We,e.tdFilterWithAcc=_e,e.tdIdentity=Le,e.tdIfElse=Ue,e.tdIfValueObjectLike=qe,e.tdKeyBy=(e=(e=>e.id))=>t=>(r,n,o,i)=>t(r,n,e(n,o,i),i),e.tdLog=(e="log",t=o)=>Me((...r)=>t(...r)&&console.log(e,...r)),e.tdMap=e=>t=>(r,n,...o)=>t(r,e(n,...o),...o),e.tdMapWithAcc=e=>t=>(r,n,...o)=>t(r,e(r,n,...o),...o),e.tdOmit=e=>We(x(e)),e.tdOmitWithAcc=e=>_e(x(e)),e.tdPipeToArray=(...t)=>Be(e.compose(...t)),e.tdPipeToObject=(...t)=>Ce(e.compose(...t)),e.tdReduce=e=>t=>(r,...n)=>t(e(r,...n),...n),e.tdReduceListValue=ze,e.tdSet=(e,t)=>r=>(n,o,...i)=>{const s=t(n,o,...i);return n[e]===s?r(n,o,k,c):r({...n,[e]:s},o,...i)},e.tdTap=Me,e.tdToArray=Be,e.tdToObject=Ce,e.tdToSame=e=>t=>(Array.isArray(t)?Be:Ce)(e)(t),e.tdValue=e=>r=>Re(void 0,t,e,[r]),e.toPredicate=e=>p(e)?e:g(e)?B(e):d(e)?C(e):f(e)?$(e):i,e.transToArray=q,e.transToObject=U,e.transToSame=G,e.transduce=Re,e.transduceBF=({preVisit:t=Le,visit:r=Le,postVisit:n=Le,edgeCombiner:o=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:i=ze}={})=>{let s=[];const c=i((e,t,r,n)=>(Pe(s,[e,t,r,n]),e)),a=e.compose(t,e=>(t,r,n,o)=>{if(d(r)){const i={};e(t,i,n,o),c(i,r,n,o)}else e(t,r,n,o);s.length>0&&a(...s.shift())},n)(o);return i((e,t,r,n)=>(a(e,t,r,n),e))},e.transduceDF=({preVisit:t=Le,visit:r=we(n),postVisit:o=Le,edgeCombiner:i=((e={},t,r)=>(e[r]=t,e)),childrenLoopReducer:s=ze}={})=>{const c=s(e.compose(t,e=>(t,r,n,o)=>e(t,r,n,o,c),r,o)(i));return c},e.uniqueId=Ie,e.xor=D,Object.defineProperty(e,"__esModule",{value:!0})}));