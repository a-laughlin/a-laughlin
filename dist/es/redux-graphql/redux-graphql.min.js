import{useState as t,useEffect as e}from"react";function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var n="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")(),c=a.Symbol,i=Object.prototype,u=i.hasOwnProperty,f=i.toString,s=c?c.toStringTag:void 0;var l=Object.prototype.toString;var p=c?c.toStringTag:void 0;function b(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?function(t){var e=u.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[s]=r:delete t[s]),o}(t):function(t){return l.call(t)}(t)}function y(t){return null!=t&&"object"==typeof t}function v(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==b(t)}var h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,g=/^0o[0-7]+$/i,_=parseInt;function m(t){return t?(t=function(t){if("number"==typeof t)return t;if(v(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var n=j.test(t);return n||g.test(t)?_(t.slice(2),n?2:8):d.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function O(t){return"number"==typeof t&&t==function(t){var e=m(t),r=e%1;return e==e?r?e-r:e:0}(t)}var w=Array.isArray,A=c?c.prototype:void 0,S=A?A.toString:void 0;function x(t){if("string"==typeof t)return t;if(w(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,x)+"";if(v(t))return S?S.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}let N;const T=t=>t;if(void 0===globalThis.process&&(globalThis.process={env:{NODE_ENV:"production"}}),"production"!==globalThis.process.env.NODE_ENV){const t=t=>t.name?t.name:t.toString();N=(...e)=>{if(0===e.length)return T;if(1===e.length)return e[0];const r=e[e.length-1];e=e.slice(0,e.length-1);const n=(...t)=>e.reduceRight((t,e)=>e(t),r(...t));return n.toString=()=>`compose(${e.map(t).join(", ")})`,n}}else N=(...t)=>(...e)=>0===t.length?T:1===t.length?t[0]:t.slice(0,t.length-1).reduceRight((t,e)=>e(t),t[t.length-1](...e));const k=()=>!0,z=(Object.freeze([]),Object.freeze(Object.create(null)),t=>"string"==typeof t),E=t=>"function"==typeof t,P=t=>"object"==typeof t&&null!==t,D=Array.isArray.bind(Array),I=t=>"object"==typeof t&&null!==t&&"function"==typeof t.then,M=(t,e)=>(...r)=>{const n=t(...r),o=e(...r);return C(D,n,o)},F=t=>(...e)=>e.length>1?t(e):t(...e),$=(t=[])=>D(t)?t:[t],U=(B=()=>({}),(t,e,r)=>((t,e,r)=>(t.hasOwnProperty(e)?t[e]:t[e]=r,t))(t,e,B(t,e,r)));var B;const C=(t,e,r=T)=>(...n)=>(t(...n)?e:r)(...n),V=F(t=>(...e)=>{for(let[r,n]of t)if(r(...e))return n}),L=F(t=>(...e)=>{return("function"==typeof(r=V(...t)(...e))?r:(n=r,t=>n))(...e);var r,n}),R=t=>(e=[])=>{const r=e.length,n=[];let o=-1;for(;++o<r;)t(n,e[o],o,e);return n},W=t=>(e={})=>{let r,n=Object.create(null);for(r in e)t(n,e[r],r,e);return n},K=M(t=>(e=[])=>{const r=e.length,n=Object.create(null);let o=-1;for(;++o<r;)t(n,e[o],o,e);return n},W),q=M(R,t=>(e={})=>{let r,n=[];for(r in e)t(n,e[r],r,e);return n}),G=M(R,W),J=M(t=>q((e,r,n)=>t(r,n)&&(e[e.length]=r)),t=>K((e,r,n)=>t(r,n)&&(e[n]=r))),Q=t=>K((e,r,n)=>e[n]=t(r,n)),H=M(t=>({length:e})=>e===t,t=>e=>{let r,n=0;for(r in e)if(++n>t)return!1;return n===t}),X=(H(0),H(1),((t,e,r=T)=>n=>t(n)?e(n):r(n))(z,(t="id")=>K((e,r,n)=>{e[r[t]]=r}),(t=(t=>t.id))=>K((e,r,n)=>{e[t(r,n)]=r}))),Y=(t={},e,r)=>(t[r]=((t=[],e)=>(t[t.length]=e,t))(t[r],e),t),Z=(K((t,e,r)=>{for(r in e)Y(t,e,r)}),K((t,e)=>{let r,n;for(r in e)for(n of $(e[r]))Y(t,e,z(o=n)?o:""+o);var o}),L([z,t=>(t=t.split("."),e=>t.reduce((t,e)=>D(t)&&!O(+e)?t.map(t=>t[e]):t[e],e))],[D,t=>tt(t)],[P,t=>e=>Q(t=>Z(t)(e))(t)],[k,T])),tt=L([D,t=>e=>G((t,r)=>t[r]=e[r])(t)],[z,t=>tt([t])],[E,J]),et=(t=[],e)=>(t[t.length]=e,t),rt=t=>e=>((t,e,r,n)=>nt(r(e))(t,n))([],et,t,e),nt=t=>(e,r,n,...o)=>{if(!P(r))return t(e,r,n,...o);if(D(r)){for(let n=-1,o=r.length;++n<o;)e=I(e)?Promise.all([e,r[n]]).then(([e,o])=>t(e,o,n,r)):t(e,r[n],n,r);return e}let a;for(a in r)e=I(e)?Promise.all([e,r[a]]).then(([e,n])=>t(e,n,a,r)):t(e,r[a],a,r);return e},ot=t=>(e,r)=>nt(t)(r,e),at=(t={},e={})=>{const r={},n={},o={},a={},c={};let i,u=0,f=0,s=0,l=0;for(i in t)i in e?s+=a[i]=o[i]=t[i]===e[i]?1:l+=c[i]=1:u+=a[i]=r[i]=1;for(i in e)i in t?i in o?a[i]=o[i]=1:s+=a[i]=o[i]=t[i]===e[i]?1:l+=c[i]=1:f+=a[i]=n[i]=1;return{anb:r,anbc:u,bna:n,bnac:f,aib:o,aibc:s,aub:a,aubc:u+f+s,changed:c,changedc:l,a:t,b:e}},ct=(t=(t=>t.id),e=[])=>t?at(...e.map(X(t))):at(e),it=t=>t.name.value,ut=t=>{let e=t.type;for(;"NamedType"!==e.kind;)e=e.type;return e.name.value},ft=t=>{const e=t.type;return"ListType"===("NonNullType"===e.kind?e.type.kind:e.kind)};var st=((t,e=T)=>{const r=(...n)=>{const o=e(...n);return t(...r.cache.has(o)?r.cache.get(o):r.cache.set(o,n)&&n)};return r.cache=new WeakMap,r})(t=>{const e=$(t.definitions).filter(t=>!1===/^(Query|Mutation|Subscription)$/.test(t.name.value)),r=[].concat(e),n=r.reduce((t,e)=>(U(t,e.kind)[e.kind][e.name.value]=e,t),{});Object.values(n.ObjectTypeDefinition);return{...n,definitions:r,definitionsByName:X(it)(r),objectFieldMeta:Object.values(n.ObjectTypeDefinition).reduce((t,e)=>{const r=t[it(e)]={scalarNames:{},collectionNames:{},collectionKeysCount:0,scalarKeysCount:0,isListType:{},idKey:void 0};for(const t of e.fields){const[e,o]=[it(t),ut(t)];"ID"===o&&(r.idKey=e),r.isListType[e]=ft(t),o in n.ObjectTypeDefinition?(r.collectionNames[e]=o,++r.collectionKeysCount):(++r.scalarKeysCount,r.scalarNames[e]=o)}return t},{})}});function lt(t,e){return t===e||t!=t&&e!=e}function pt(t,e){for(var r=t.length;r--;)if(lt(t[r][0],e))return r;return-1}var bt=Array.prototype.splice;function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,r=pt(e,t);return!(r<0)&&(r==e.length-1?e.pop():bt.call(e,r,1),--this.size,!0)},yt.prototype.get=function(t){var e=this.__data__,r=pt(e,t);return r<0?void 0:e[r][1]},yt.prototype.has=function(t){return pt(this.__data__,t)>-1},yt.prototype.set=function(t,e){var r=this.__data__,n=pt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function vt(t){if(!r(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var ht,dt=a["__core-js_shared__"],jt=(ht=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||""))?"Symbol(src)_1."+ht:"";var gt=Function.prototype.toString;function _t(t){if(null!=t){try{return gt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var mt=/^\[object .+?Constructor\]$/,Ot=Function.prototype,wt=Object.prototype,At=Ot.toString,St=wt.hasOwnProperty,xt=RegExp("^"+At.call(St).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nt(t){return!(!r(t)||(e=t,jt&&jt in e))&&(vt(t)?xt:mt).test(_t(t));var e}function Tt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(r)?r:void 0}var kt=Tt(a,"Map"),zt=Tt(Object,"create");var Et=Object.prototype.hasOwnProperty;var Pt=Object.prototype.hasOwnProperty;function Dt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dt.prototype.clear=function(){this.__data__=zt?zt(null):{},this.size=0},Dt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Dt.prototype.get=function(t){var e=this.__data__;if(zt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Et.call(e,t)?e[t]:void 0},Dt.prototype.has=function(t){var e=this.__data__;return zt?void 0!==e[t]:Pt.call(e,t)},Dt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zt&&void 0===e?"__lodash_hash_undefined__":e,this},Mt.prototype.clear=function(){this.size=0,this.__data__={hash:new Dt,map:new(kt||yt),string:new Dt}},Mt.prototype.delete=function(t){var e=It(this,t).delete(t);return this.size-=e?1:0,e},Mt.prototype.get=function(t){return It(this,t).get(t)},Mt.prototype.has=function(t){return It(this,t).has(t)},Mt.prototype.set=function(t,e){var r=It(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Ft(t){var e=this.__data__=new yt(t);this.size=e.size}Ft.prototype.clear=function(){this.__data__=new yt,this.size=0},Ft.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Ft.prototype.get=function(t){return this.__data__.get(t)},Ft.prototype.has=function(t){return this.__data__.has(t)},Ft.prototype.set=function(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!kt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Mt(n)}return r.set(t,e),this.size=r.size,this};var $t=function(){try{var t=Tt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Ut(t,e,r){"__proto__"==e&&$t?$t(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Bt=Object.prototype.hasOwnProperty;function Ct(t,e,r){var n=t[e];Bt.call(t,e)&&lt(n,r)&&(void 0!==r||e in t)||Ut(t,e,r)}function Vt(t,e,r,n){var o=!r;r||(r={});for(var a=-1,c=e.length;++a<c;){var i=e[a],u=n?n(r[i],t[i],i,r,t):void 0;void 0===u&&(u=t[i]),o?Ut(r,i,u):Ct(r,i,u)}return r}function Lt(t){return y(t)&&"[object Arguments]"==b(t)}var Rt=Object.prototype,Wt=Rt.hasOwnProperty,Kt=Rt.propertyIsEnumerable,qt=Lt(function(){return arguments}())?Lt:function(t){return y(t)&&Wt.call(t,"callee")&&!Kt.call(t,"callee")};var Gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Jt=Gt&&"object"==typeof module&&module&&!module.nodeType&&module,Qt=Jt&&Jt.exports===Gt?a.Buffer:void 0,Ht=(Qt?Qt.isBuffer:void 0)||function(){return!1},Xt=/^(?:0|[1-9]\d*)$/;function Yt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Xt.test(t))&&t>-1&&t%1==0&&t<e}function Zt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var te={};function ee(t){return function(e){return t(e)}}te["[object Float32Array]"]=te["[object Float64Array]"]=te["[object Int8Array]"]=te["[object Int16Array]"]=te["[object Int32Array]"]=te["[object Uint8Array]"]=te["[object Uint8ClampedArray]"]=te["[object Uint16Array]"]=te["[object Uint32Array]"]=!0,te["[object Arguments]"]=te["[object Array]"]=te["[object ArrayBuffer]"]=te["[object Boolean]"]=te["[object DataView]"]=te["[object Date]"]=te["[object Error]"]=te["[object Function]"]=te["[object Map]"]=te["[object Number]"]=te["[object Object]"]=te["[object RegExp]"]=te["[object Set]"]=te["[object String]"]=te["[object WeakMap]"]=!1;var re="object"==typeof exports&&exports&&!exports.nodeType&&exports,ne=re&&"object"==typeof module&&module&&!module.nodeType&&module,oe=ne&&ne.exports===re&&n.process,ae=function(){try{var t=ne&&ne.require&&ne.require("util").types;return t||oe&&oe.binding&&oe.binding("util")}catch(t){}}(),ce=ae&&ae.isTypedArray,ie=ce?ee(ce):function(t){return y(t)&&Zt(t.length)&&!!te[b(t)]},ue=Object.prototype.hasOwnProperty;function fe(t,e){var r=w(t),n=!r&&qt(t),o=!r&&!n&&Ht(t),a=!r&&!n&&!o&&ie(t),c=r||n||o||a,i=c?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=i.length;for(var f in t)!e&&!ue.call(t,f)||c&&("length"==f||o&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Yt(f,u))||i.push(f);return i}var se=Object.prototype;function le(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function pe(t,e){return function(r){return t(e(r))}}var be=pe(Object.keys,Object),ye=Object.prototype.hasOwnProperty;function ve(t){return null!=t&&Zt(t.length)&&!vt(t)}function he(t){return ve(t)?fe(t):function(t){if(!le(t))return be(t);var e=[];for(var r in Object(t))ye.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var de=Object.prototype.hasOwnProperty;function je(t){if(!r(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=le(t),n=[];for(var o in t)("constructor"!=o||!e&&de.call(t,o))&&n.push(o);return n}function ge(t){return ve(t)?fe(t,!0):je(t)}var _e="object"==typeof exports&&exports&&!exports.nodeType&&exports,me=_e&&"object"==typeof module&&module&&!module.nodeType&&module,Oe=me&&me.exports===_e?a.Buffer:void 0,we=Oe?Oe.allocUnsafe:void 0;function Ae(){return[]}var Se=Object.prototype.propertyIsEnumerable,xe=Object.getOwnPropertySymbols,Ne=xe?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var c=t[r];e(c,r,t)&&(a[o++]=c)}return a}(xe(t),(function(e){return Se.call(t,e)})))}:Ae;function Te(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var ke=pe(Object.getPrototypeOf,Object),ze=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Te(e,Ne(t)),t=ke(t);return e}:Ae;function Ee(t,e,r){var n=e(t);return w(t)?n:Te(n,r(t))}function Pe(t){return Ee(t,he,Ne)}function De(t){return Ee(t,ge,ze)}var Ie=Tt(a,"DataView"),Me=Tt(a,"Promise"),Fe=Tt(a,"Set"),$e=Tt(a,"WeakMap"),Ue=_t(Ie),Be=_t(kt),Ce=_t(Me),Ve=_t(Fe),Le=_t($e),Re=b;(Ie&&"[object DataView]"!=Re(new Ie(new ArrayBuffer(1)))||kt&&"[object Map]"!=Re(new kt)||Me&&"[object Promise]"!=Re(Me.resolve())||Fe&&"[object Set]"!=Re(new Fe)||$e&&"[object WeakMap]"!=Re(new $e))&&(Re=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?_t(r):"";if(n)switch(n){case Ue:return"[object DataView]";case Be:return"[object Map]";case Ce:return"[object Promise]";case Ve:return"[object Set]";case Le:return"[object WeakMap]"}return e});var We=Re,Ke=Object.prototype.hasOwnProperty;var qe=a.Uint8Array;function Ge(t){var e=new t.constructor(t.byteLength);return new qe(e).set(new qe(t)),e}var Je=/\w*$/;var Qe=c?c.prototype:void 0,He=Qe?Qe.valueOf:void 0;function Xe(t,e,r){var n,o,a,c=t.constructor;switch(e){case"[object ArrayBuffer]":return Ge(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return function(t,e){var r=e?Ge(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Ge(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return(a=new(o=t).constructor(o.source,Je.exec(o))).lastIndex=o.lastIndex,a;case"[object Set]":return new c;case"[object Symbol]":return n=t,He?Object(He.call(n)):{}}}var Ye=Object.create,Ze=function(){function t(){}return function(e){if(!r(e))return{};if(Ye)return Ye(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var tr=ae&&ae.isMap,er=tr?ee(tr):function(t){return y(t)&&"[object Map]"==We(t)};var rr=ae&&ae.isSet,nr=rr?ee(rr):function(t){return y(t)&&"[object Set]"==We(t)},or={};function ar(t,e,n,o,a,c){var i,u=1&e,f=2&e,s=4&e;if(n&&(i=a?n(t,o,a,c):n(t)),void 0!==i)return i;if(!r(t))return t;var l=w(t);if(l){if(i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ke.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,i)}else{var p=We(t),b="[object Function]"==p||"[object GeneratorFunction]"==p;if(Ht(t))return function(t,e){if(e)return t.slice();var r=t.length,n=we?we(r):new t.constructor(r);return t.copy(n),n}(t,u);if("[object Object]"==p||"[object Arguments]"==p||b&&!a){if(i=f||b?{}:function(t){return"function"!=typeof t.constructor||le(t)?{}:Ze(ke(t))}(t),!u)return f?function(t,e){return Vt(t,ze(t),e)}(t,function(t,e){return t&&Vt(e,ge(e),t)}(i,t)):function(t,e){return Vt(t,Ne(t),e)}(t,function(t,e){return t&&Vt(e,he(e),t)}(i,t))}else{if(!or[p])return a?t:{};i=Xe(t,p,u)}}c||(c=new Ft);var y=c.get(t);if(y)return y;c.set(t,i),nr(t)?t.forEach((function(r){i.add(ar(r,e,n,r,t,c))})):er(t)&&t.forEach((function(r,o){i.set(o,ar(r,e,n,o,t,c))}));var v=s?f?De:Pe:f?keysIn:he,h=l?void 0:v(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(h||t,(function(r,o){h&&(r=t[o=r]),Ct(i,o,ar(r,e,n,o,t,c))})),i}or["[object Arguments]"]=or["[object Array]"]=or["[object ArrayBuffer]"]=or["[object DataView]"]=or["[object Boolean]"]=or["[object Date]"]=or["[object Float32Array]"]=or["[object Float64Array]"]=or["[object Int8Array]"]=or["[object Int16Array]"]=or["[object Int32Array]"]=or["[object Map]"]=or["[object Number]"]=or["[object Object]"]=or["[object RegExp]"]=or["[object Set]"]=or["[object String]"]=or["[object Symbol]"]=or["[object Uint8Array]"]=or["[object Uint8ClampedArray]"]=or["[object Uint16Array]"]=or["[object Uint32Array]"]=!0,or["[object Error]"]=or["[object Function]"]=or["[object WeakMap]"]=!1;function cr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Mt;++e<r;)this.add(t[e])}function ir(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}cr.prototype.add=cr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},cr.prototype.has=function(t){return this.__data__.has(t)};function ur(t,e,r,n,o,a){var c=1&r,i=t.length,u=e.length;if(i!=u&&!(c&&u>i))return!1;var f=a.get(t);if(f&&a.get(e))return f==e;var s=-1,l=!0,p=2&r?new cr:void 0;for(a.set(t,e),a.set(e,t);++s<i;){var b=t[s],y=e[s];if(n)var v=c?n(y,b,s,e,t,a):n(b,y,s,t,e,a);if(void 0!==v){if(v)continue;l=!1;break}if(p){if(!ir(e,(function(t,e){if(c=e,!p.has(c)&&(b===t||o(b,t,r,n,a)))return p.push(e);var c}))){l=!1;break}}else if(b!==y&&!o(b,y,r,n,a)){l=!1;break}}return a.delete(t),a.delete(e),l}function fr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function sr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var lr=c?c.prototype:void 0,pr=lr?lr.valueOf:void 0;var br=Object.prototype.hasOwnProperty;var yr=Object.prototype.hasOwnProperty;function vr(t,e,r,n,o,a){var c=w(t),i=w(e),u=c?"[object Array]":We(t),f=i?"[object Array]":We(e),s="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),l="[object Object]"==(f="[object Arguments]"==f?"[object Object]":f),p=u==f;if(p&&Ht(t)){if(!Ht(e))return!1;c=!0,s=!1}if(p&&!s)return a||(a=new Ft),c||ie(t)?ur(t,e,r,n,o,a):function(t,e,r,n,o,a,c){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new qe(t),new qe(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var i=fr;case"[object Set]":var u=1&n;if(i||(i=sr),t.size!=e.size&&!u)return!1;var f=c.get(t);if(f)return f==e;n|=2,c.set(t,e);var s=ur(i(t),i(e),n,o,a,c);return c.delete(t),s;case"[object Symbol]":if(pr)return pr.call(t)==pr.call(e)}return!1}(t,e,u,r,n,o,a);if(!(1&r)){var b=s&&yr.call(t,"__wrapped__"),y=l&&yr.call(e,"__wrapped__");if(b||y){var v=b?t.value():t,h=y?e.value():e;return a||(a=new Ft),o(v,h,r,n,a)}}return!!p&&(a||(a=new Ft),function(t,e,r,n,o,a){var c=1&r,i=Pe(t),u=i.length;if(u!=Pe(e).length&&!c)return!1;for(var f=u;f--;){var s=i[f];if(!(c?s in e:br.call(e,s)))return!1}var l=a.get(t);if(l&&a.get(e))return l==e;var p=!0;a.set(t,e),a.set(e,t);for(var b=c;++f<u;){var y=t[s=i[f]],v=e[s];if(n)var h=c?n(v,y,s,e,t,a):n(y,v,s,t,e,a);if(!(void 0===h?y===v||o(y,v,r,n,a):h)){p=!1;break}b||(b="constructor"==s)}if(p&&!b){var d=t.constructor,j=e.constructor;d==j||!("constructor"in t)||!("constructor"in e)||"function"==typeof d&&d instanceof d&&"function"==typeof j&&j instanceof j||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,r,n,o,a))}function hr(t,e,r,n,o){return t===e||(null==t||null==e||!y(t)&&!y(e)?t!=t&&e!=e:vr(t,e,r,n,hr,o))}var dr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/;function gr(t,e){if(w(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!v(t))||(jr.test(t)||!dr.test(t)||null!=e&&t in Object(e))}function _r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var c=t.apply(this,n);return r.cache=a.set(o,c)||a,c};return r.cache=new(_r.Cache||Mt),r}_r.Cache=Mt;var mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/\\(\\)?/g,wr=function(t){var e=_r(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(mr,(function(t,r,n,o){e.push(n?o.replace(Or,"$1"):r||t)})),e}));function Ar(t,e){return w(t)?t:gr(t,e)?[t]:wr(function(t){return null==t?"":x(t)}(t))}function Sr(t){if("string"==typeof t||v(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function xr(t,e,r){var n=null==t?void 0:function(t,e){for(var r=0,n=(e=Ar(e,t)).length;null!=t&&r<n;)t=t[Sr(e[r++])];return r&&r==n?t:void 0}(t,e);return void 0===n?r:n}function Nr(t,e){return null!=t&&e in Object(t)}function Tr(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=Ar(e,t)).length,a=!1;++n<o;){var c=Sr(e[n]);if(!(a=null!=t&&r(t,c)))break;t=t[c]}return a||++n!=o?a:!!(o=null==t?0:t.length)&&Zt(o)&&Yt(c,o)&&(w(t)||qt(t))}(t,e,Nr)}function kr(t){return t==t&&!r(t)}function zr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function Er(t){var e=function(t){for(var e=he(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,kr(o)]}return e}(t);return 1==e.length&&e[0][2]?zr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,a=o,c=!n;if(null==t)return!a;for(t=Object(t);o--;){var i=r[o];if(c&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++o<a;){var u=(i=r[o])[0],f=t[u],s=i[1];if(c&&i[2]){if(void 0===f&&!(u in t))return!1}else{var l=new Ft;if(n)var p=n(f,s,u,t,e,l);if(!(void 0===p?hr(s,f,3,n,l):p))return!1}}return!0}(r,t,e)}}const Pr=(t,e)=>e,Dr=(t=gql("type DefaultType {id:ID!}"))=>(e={ADD:t=>(e,r)=>t({...e,...r.payload},r),SUBTRACT:t=>(e,r)=>{const n=ct(Pr,[e,r.payload]);let o,a={};if(0===n.aibc)return t(e,r);if(n.aibc===n.aubc)return t(a,r);for(o in n.anb)a[o]=e[o];return t(a,r)},UNION:t=>(e,r)=>{const n=ct(Pr,[e,r.payload]);let o,a={};for(o in n.aub)a[o]=r.payload[o]??e[o];return t(0===n.changedc?e:a,r)},INTERSECTION:t=>(e,r)=>{const n=ct(Pr,[e,r.payload]);let o,a={};for(o in n.aib)a[o]=r.payload[o];return t(0===n.changedc?e:a,r)},SET:t=>(e,r)=>t(r.payload,r),GET:t=>(e,r)=>t(e,r)})=>K((t,r,n)=>{const o=K((t,e,r)=>t[`${r}_${n.toUpperCase()}`]=e(T))(e);t[n]=(t=null,e={})=>e.type in o?o[e.type](t,r(e)):t})((t=>{const{objectFieldMeta:e,definitionsByName:r}=st(t),n=t=>null===t.payload||"object"!=typeof t.payload;return K((t,r,o)=>{const a=(e[o]??{}).idKey;t[o]=L([t=>!(o in e),T],[n,t=>({...t,payload:{[t.payload]:{[a]:t.payload}}})],[t=>a in t.payload,t=>({...t,payload:{[t.payload[a]]:t.payload}})],[D,K((t,e)=>{t[(e=normalizePayload(e))[a]]=e})],[k,T])})(r)})(t)),Ir=L([E,t=>e=>t(e)],[D,function(t,e){return function(t,e){return gr(t)&&kr(e)?zr(Sr(t),e):function(r){var n=xr(r,t);return void 0===n&&n===e?Tr(r,t):hr(e,n,3)}}(t,ar(e,1))}],[P,function(t){return Er(ar(t,1))}],[k,t=>e=>t in e]),Mr=(t,e={filter:Ir,omit:t=>Ir((t=>(...e)=>!t(...e))(t))})=>{const{objectFieldMeta:r,definitionsByName:n}=st(t),o=(t,n,a,c,i)=>{if(void 0===c.selectionSet)return void 0===a?c.name.value in t?t[c.name.value]:new Error("cannot request collection without selecting fields"):c.name.value in r[n].collectionNames?new Error("cannot request object without selecting fields"):t[n][a][c.name.value];if(void 0===a){if(0===c.arguments.length)return K((e,r,a)=>e[a]=o(t,n,a,c,i))(t[n]);const r=((t=[],e={})=>{let r,n,o={};for({name:{value:r},value:n}of t)"Variable"===n.kind?o[r]=e[n.name.value]:"ObjectValue"===n.kind?o[r]=K((t,e)=>{t[e.name.value]=e.value.value})(n.fields):o[r]=n.value;return o})(c.arguments,i),a=((t,...e)=>rt(N(...e))(t))(r,((t=k)=>e=>(r,...n)=>t(...n)?e(r,...n):r)((t,r)=>r in e),(u=(t,n)=>e[n](r[n]),t=>(e,r,...n)=>t(e,u(r,...n),...n)));a[0]||(a[0]=e.filter(r));const f=((...t)=>(...e)=>{for(const r of t)if(!0!==r(...e))return!1;return!0})(...a);return K((e,r,a)=>f(r)&&(e[a]=o(t,n,a,c,i)))(t[n])}var u;const{collectionNames:f}=r[n];if(Array.isArray(a))return K((e,r)=>e[r]=o(t,n,r,c,i))(a);let s,l,p={},b=t[n][a];for(s of c.selectionSet.selections)l=s.name.value,p[l]=l in f?o(t,f[l],b[l],s,i):b[l];return p},a=(t,e,r={})=>e.definitions.reduce((e,n)=>{const a=((t=[],e={})=>{let r,n,o={};if(0===t.length)return e;for({variable:{name:{value:r}},defaultValue:n}of t)o[r]=e[r]??(n??{}).value;return o})(n.variableDefinitions,r);for(const r of n.selectionSet.selections||[])e[r.name.value]=o(t,r.name.value,void 0,r,a);return e},{}),c=ot((t,{name:{value:e},selectionSet:{selections:r=[]}={}},o,a)=>(e in n&&t.add(e),c(r,t))),i=ot((t=new WeakSet,{selectionSet:{selections:e=[]}={}})=>c(e,t));let u={},f=new WeakSet,s=new WeakMap,l=new WeakMap;return(t,e,r={})=>{const n=(t=>{const e=Object.keys(t).sort();return e.join(",")+e.map(e=>JSON.stringify(t[e])).join(",")})(r);if(!f.has(e)){f.add(e),l.set(e,i(e.definitions,new Set));const o=a(t,e,r);return s.set(e,{[n]:o}),u=t,o}if(u!==t)for(const o of l.get(e))if(u[o]!==t[o])return u=t,s.get(e)[n]=a(t,e,r);const o=s.get(e);return n in o?o[n]:o[n]=querier(t,e,r)}},Fr=(r,n)=>(o,a)=>{const[c,i]=t(n(r.getState(),o,a));return e(()=>r.subscribe(()=>{const t=n(r.getState(),o,a);t!==c&&i({...c,...t})}),[]),c},$r=(t,e,r,n)=>{st(e)};export{Mr as getMemoizedObjectQuerier,Fr as getUseQuery,Dr as schemaToStateOpsMapper,$r as triggerStorePermutationUpdates};